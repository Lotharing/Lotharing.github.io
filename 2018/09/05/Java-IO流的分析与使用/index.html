<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!--Description-->

    

    
        <meta name="description" content="前言：对程序语言的设计者来说，创建一个好的输入/输出(I/O)系统是一项艰难的任务,在整个Java.io包中最重要的就是5个类和一个接口。5个类指的是File、OutputStream、InputStream、Writer、Reader；一个接口指的是Serializable.掌握了这些IO的核心操"/>
    

    <!--Author-->
    
        <meta name="author" content="Lothar"/>
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Java IO流的分析与使用"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="前言：对程序语言的设计者来说，创建一个好的输入/输出(I/O)系统是一项艰难的任务,在整个Java.io包中最重要的就是5个类和一个接口。5个类指的是File、OutputStream、InputStream、Writer、Reader；一个接口指的是Serializable.掌握了这些IO的核心操"/>
    

    <!--Open Graph Site Name-->
        <meta property="og:site_name" content="Mr.Zhao"/>

    <!--Type page-->
    
        <meta property="og:type" content="article"/>
    

    <!--Page Cover-->
    
    
        <meta property="og:image" content="http://Lotharing.github.io/Lotharing.github.iohttp://img18.3lian.com/d/file/201709/06/abe5dbb32185dabfc7501ee3188d6964.jpg"/>
    

        <meta name="twitter:card" content="summary_large_image"/>

    

    
        <meta name="twitter:image" content="http://Lotharing.github.io/Lotharing.github.iohttp://img18.3lian.com/d/file/201709/06/abe5dbb32185dabfc7501ee3188d6964.jpg"/>
    

    <!-- Title -->
    
    <title>Java IO流的分析与使用 - Mr.Zhao</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/Lotharing.github.io/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"/>

    <!-- Google Analytics -->
    


    <!-- favicon -->
    
    <link rel="icon" href="[object Object]"/>
    

</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/Lotharing.github.io/">Lothar</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/Lotharing.github.io/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/Lotharing.github.io/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/Lotharing.github.io/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/Lotharing.github.io/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/Lotharing/Lotharing.github.io">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1536223460301&di=22412d5d4cf915cdc3e1dfc9a1aa80dd&imgtype=0&src=http%3A%2F%2F00.minipic.eastday.com%2F20170822%2F20170822102329_d41d8cd98f00b204e9800998ecf8427e_8.jpeg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Java IO流的分析与使用</h1>
                    
                    <h2 class="post-subheading">
                        对JAVA中文件读取操作工具的使用以及分析
                    </h2>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                            Posted by LuTong.Zhao on
                        
                        
                            2018-09-05
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/Lotharing.github.io/tags/《JAVA》/">#《JAVA》</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/Lotharing.github.io/categories/JAVA语言运用/">JAVA语言运用</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <hr>
<p>前言：对程序语言的设计者来说，创建一个好的输入/输出(I/O)系统是一项艰难的任务,在整个Java.io包中最重要的就是5个类和一个接口。5个类指的是File、OutputStream、InputStream、Writer、Reader；一个接口指的是Serializable.掌握了这些IO的核心操作那么对于Java中的IO体系也就有了一个初步的认识了</p>
<h4 id="javaIO的几个层次"><a href="#javaIO的几个层次" class="headerlink" title="javaIO的几个层次"></a>javaIO的几个层次</h4><ul>
<li><p>流式部分――IO的主体部分包括 字节型流，字节型流两大类；</p>
</li>
<li><p>非流式部分――主要包含一些辅助流式部分的类，如：File类、RandomAccessFile类和FileDescriptor等类；</p>
</li>
<li><p>其他类–文件读取部分的与安全相关的类，如：SerializablePermission类，以及与本地操作系统相关的文件系统的类，如：FileSystem类和Win32FileSystem类和WinNTFileSystem类</p>
</li>
</ul>
<h4 id="主要的类"><a href="#主要的类" class="headerlink" title="主要的类"></a>主要的类</h4><ul>
<li><p>File（文件特征与管理）：用于文件或者目录的描述信息，例如生成新目录，修改文件名，删除文件，判断文件所在路径等。</p>
</li>
<li><p>InputStream（二进制格式操作）：抽象类，基于字节的输入操作，是所有输入流的父类。定义了所有输入流都具有的共同特征。</p>
</li>
<li><p>OutputStream（二进制格式操作）：抽象类。基于字节的输出操作。是所有输出流的父类。定义了所有输出流都具有的共同特征。</p>
</li>
<li><p>Reader（文件格式操作）：抽象类，基于字符的输入操作。</p>
</li>
<li><p>Writer（文件格式操作）：抽象类，基于字符的输出操作。</p>
</li>
<li><p>RandomAccessFile（随机文件操作）：一个独立的类，直接继承至Object.它的功能丰富，可以从文件的任意位置进行存取（输入输出）操作</p>
</li>
</ul>
<hr>
<h4 id="类结构图"><a href="#类结构图" class="headerlink" title="类结构图"></a>类结构图</h4><ul>
<li><img src="http://img.blog.csdn.net/20160421004327228?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="IO"></li>
</ul>
<h4 id="流的分类"><a href="#流的分类" class="headerlink" title="流的分类"></a>流的分类</h4><ul>
<li><p>根据处理数据类型的不同分为：字符流和字节流</p>
</li>
<li><p>根据数据流向不同分为：输入流和输出流</p>
</li>
<li><p>按数据来源（去向）分类：</p>
<pre><code>1、File（文件）： FileInputStream, FileOutputStream, FileReader, FileWriter 
2、byte[]：ByteArrayInputStream, ByteArrayOutputStream 
3、Char[]: CharArrayReader,CharArrayWriter 
4、String:StringBufferInputStream, StringReader, StringWriter 
5、网络数据流：InputStream,OutputStream, Reader, Writer 
</code></pre></li>
</ul>
<h4 id="流的特点"><a href="#流的特点" class="headerlink" title="流的特点"></a>流的特点</h4><ul>
<li><p>先进先出，最先写入输出流的数据最先被输入流读取到。</p>
</li>
<li><p>顺序存取，可以一个接一个地往流中写入一串字节，读出时也将按写入顺序读取一串字节，不能随机访问中间的数据。（RandomAccessFile可以从文件的任意位置进行存取（输入输出）操作）</p>
</li>
<li><p>只读或只写，每个流只能是输入流或输出流的一种，不能同时具备两个功能，输入流只能进行读操作，对输出流只能进行写操作。在一个数据传输通道中，如果既要写入数据，又要读取数据，则要分别提供两个流。 </p>
</li>
</ul>
<h4 id="IO的继承关系"><a href="#IO的继承关系" class="headerlink" title="IO的继承关系"></a>IO的继承关系</h4><ul>
<li><p><img src="http://img.blog.csdn.net/20160421004733383?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="I"></p>
</li>
<li><p><img src="http://img.blog.csdn.net/20160421004936555?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="O"></p>
</li>
<li><p><img src="http://img.blog.csdn.net/20160421005211916?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="R"></p>
</li>
<li><p><img src="http://img.blog.csdn.net/20160421005336445?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="W"></p>
</li>
</ul>
<h4 id="输入流的三种读方法"><a href="#输入流的三种读方法" class="headerlink" title="输入流的三种读方法"></a>输入流的三种读方法</h4><ul>
<li>abstract int read() ：读取一个字节数据，并返回读到的数据，如果返回-1，表示读到了输入流的末尾。</li>
<li>intread(byte[]?b) ：将数据读入一个字节数组，同时返回实际读取的字节数。如果返回-1，表示读到了输入流的末尾。</li>
<li>intread(byte[]?b, int?off, int?len)将数据读入一个字节数组，同时返回实际读取的字节数。如果返回-1，表示读到了输入流的末尾。off指定在数组b中存放数据的起始偏移位置；len指定读取的最大字节数。</li>
</ul>
<p>流结束的判断：方法read()的返回值为-1时；readLine()的返回值为null时。</p>
<h5 id="其它方法"><a href="#其它方法" class="headerlink" title="其它方法"></a>其它方法</h5><ul>
<li>long skip(long?n)：在输入流中跳过n个字节，并返回实际跳过的字节数。</li>
<li>int available() ：返回在不发生阻塞的情况下，可读取的字节数。</li>
<li>void close() ：关闭输入流，释放和这个流相关的系统资源。</li>
<li>voidmark(int?readlimit) ：在输入流的当前位置放置一个标记，如果读取的字节数多于readlimit设置的值，则流忽略这个标记。</li>
<li>void reset() ：返回到上一个标记。</li>
<li>booleanmarkSupported() ：测试当前流是否支持mark和reset方法。如果支持，返回true，否则返回false。</li>
</ul>
<h4 id="输出流的三种写方法"><a href="#输出流的三种写方法" class="headerlink" title="输出流的三种写方法"></a>输出流的三种写方法</h4><ul>
<li>abstract void write(int?b)：往输出流中写入一个字节。</li>
<li>void write(byte[]?b) ：往输出流中写入数组b中的所有字节。</li>
<li>void write(byte[]?b, int?off, int?len) ：往输出流中写入数组b中从偏移量off开始的len个字节的数据。</li>
</ul>
<h5 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h5><ul>
<li>void flush() ：刷新输出流，强制缓冲区中的输出字节被写出（有时写不进去就是因为数据还在管道没有被flush）</li>
<li>void close() ：关闭输出流，释放和这个流相关的系统资源。</li>
</ul>
<h4 id="常见异常"><a href="#常见异常" class="headerlink" title="常见异常"></a>常见异常</h4><ul>
<li><p>IOException异常类的子类</p>
</li>
<li><p>public class  EOFException ：   非正常到达文件尾或输入流尾时，抛出这种类型的异常。    </p>
</li>
<li><p>public class FileNotFoundException：   当文件找不到时，抛出的异常。</p>
</li>
<li><p>public class InterruptedIOException： 当I/O操作被中断时，抛出这种类型的异常。</p>
</li>
</ul>
<hr>
<h2 id="Demo描述"><a href="#Demo描述" class="headerlink" title="Demo描述"></a>Demo描述</h2><ul>
<li><p>建立联系</p>
</li>
<li><p>选择流</p>
</li>
<li><p>操作数组大小+read/writer</p>
</li>
<li><p>释放资源</p>
</li>
<li><p>关闭流（先打开的后关闭原则）</p>
</li>
</ul>
<hr>
<h4 id="字符流对TxT文件的读写"><a href="#字符流对TxT文件的读写" class="headerlink" title="字符流对TxT文件的读写"></a>字符流对TxT文件的读写</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.charIo;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.Reader;</span><br><span class="line"><span class="keyword">import</span> java.io.Writer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoRWCopyFile</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 纯文本的copy方法，使用字符流，char【】</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		File src = <span class="keyword">new</span> File(<span class="string">"E:/txt/yyy.txt"</span>);</span><br><span class="line">		File dest = <span class="keyword">new</span> File(<span class="string">"E:/txt/xxx.txt"</span>);</span><br><span class="line">		Reader rd = <span class="keyword">null</span>;</span><br><span class="line">		Writer wt = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			rd = <span class="keyword">new</span> FileReader(src);</span><br><span class="line">			wt = <span class="keyword">new</span> FileWriter(dest,<span class="keyword">true</span>);</span><br><span class="line">			<span class="keyword">char</span>[] flush = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">			<span class="keyword">while</span>(-<span class="number">1</span>!=(len=rd.read(flush)))&#123;</span><br><span class="line">				wt.write(flush, <span class="number">0</span>, len); </span><br><span class="line">			&#125;</span><br><span class="line">			wt.flush();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			System.out.println(<span class="string">"源文件不存在"</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			System.out.println(<span class="string">"write error"</span>);</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">null</span> != rd)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					rd.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">null</span> != wt)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					wt.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字节流字符流转换读取操作"><a href="#字节流字符流转换读取操作" class="headerlink" title="字节流字符流转换读取操作"></a>字节流字符流转换读取操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.Conver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 处理字符流的抽象类</span></span><br><span class="line"><span class="comment"> * InputStreamReader转换流   解 码 输入流    它将字节流转换为字符流  读文件字节以utf-8形式解码后的字符放入缓冲区</span></span><br><span class="line"><span class="comment"> * OutputStreamWrite      	编 码 输出流   它将字符流转换为字节流   读缓冲区字符，编码后输出</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Lothar</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConverDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		<span class="comment">//缓冲字符流</span></span><br><span class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">				<span class="keyword">new</span> InputStreamReader( </span><br><span class="line">						<span class="keyword">new</span> FileInputStream( </span><br><span class="line">								<span class="keyword">new</span> File(<span class="string">"E:/txt/yyy.txt"</span>)),<span class="string">"utf-8"</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(</span><br><span class="line">				<span class="keyword">new</span> OutputStreamWriter(</span><br><span class="line">						<span class="keyword">new</span> FileOutputStream(</span><br><span class="line">								<span class="keyword">new</span> File(<span class="string">"E:/txt/xxx.txt"</span>))));</span><br><span class="line">		String info = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">null</span> != (info=br.readLine()))&#123;</span><br><span class="line">			bw.write(info);</span><br><span class="line">			System.out.println(info);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		bw.flush();</span><br><span class="line">		bw.close();</span><br><span class="line">		br.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="基本数据类型处理流"><a href="#基本数据类型处理流" class="headerlink" title="基本数据类型处理流"></a>基本数据类型处理流</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataDemo01</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 基本数据类型处理流</span></span><br><span class="line"><span class="comment">	 * 基本数据类型和文件之间的读写关系</span></span><br><span class="line"><span class="comment">	 * 数据类型 （基本+string）处理流</span></span><br><span class="line"><span class="comment">	 * 输入流 DataInputStream  readxxx   xxx类型</span></span><br><span class="line"><span class="comment">	 * 输出流 DataOutputStream writexxx</span></span><br><span class="line"><span class="comment">	 * 新增的方法不能使用多态</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line"><span class="comment">//		write("E:/txt/test.txt");</span></span><br><span class="line">		read(<span class="string">"E:/txt/test.txt"</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 从文件读取 数据+类型</span></span><br><span class="line"><span class="comment">	 * 如果读取的顺序和存入的顺序不一致会导致乱码异常解析不出来</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> destPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(String destPath)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		</span><br><span class="line">		File dest = <span class="keyword">new</span> File(destPath);</span><br><span class="line">		</span><br><span class="line">		DataInputStream dis = <span class="keyword">new</span> DataInputStream(</span><br><span class="line">				<span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">						<span class="keyword">new</span> FileInputStream(dest)));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">double</span> num1 = dis.readDouble();</span><br><span class="line">		<span class="keyword">long</span> num2 = dis.readLong();</span><br><span class="line">		String num3 = dis.readUTF();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		dis.close();</span><br><span class="line">		</span><br><span class="line">		System.out.println(num3);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 数据+类型输出到文件</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> destPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String destPath)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">double</span> point = <span class="number">2.5</span>;</span><br><span class="line">		<span class="keyword">long</span> num = <span class="number">100L</span>;</span><br><span class="line">		String str = <span class="string">"数据类型"</span>;</span><br><span class="line">		<span class="comment">//创建源</span></span><br><span class="line">		File dest = <span class="keyword">new</span> File(destPath);</span><br><span class="line">		<span class="comment">//选择流，DataOutPutStream</span></span><br><span class="line">		DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(</span><br><span class="line">				<span class="keyword">new</span> BufferedOutputStream(</span><br><span class="line">						<span class="keyword">new</span> FileOutputStream(dest)</span><br><span class="line">						));</span><br><span class="line">		dos.writeDouble(point);</span><br><span class="line">		dos.writeLong(num);</span><br><span class="line">		dos.writeUTF(str);</span><br><span class="line">		</span><br><span class="line">		dos.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="基本数据类型和字节数组的读写关系"><a href="#基本数据类型和字节数组的读写关系" class="headerlink" title="基本数据类型和字节数组的读写关系"></a>基本数据类型和字节数组的读写关系</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataDemo02</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 基本数据类型处理流</span></span><br><span class="line"><span class="comment">	 * 基本数据类型和字节数组之间的读写关系</span></span><br><span class="line"><span class="comment">	 * 数据类型 （基本+string）处理流</span></span><br><span class="line"><span class="comment">	 * 输入流 DataInputStream  readxxx   xxx类型</span></span><br><span class="line"><span class="comment">	 * 输出流 DataOutputStream writexxx</span></span><br><span class="line"><span class="comment">	 * 新增的方法不能使用多态</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		<span class="keyword">byte</span>[] data = write();</span><br><span class="line">		System.out.println(data.length);</span><br><span class="line">		</span><br><span class="line">		read(data);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 从字节数组读取 数据+类型</span></span><br><span class="line"><span class="comment">	 * 如果读取的顺序和存入的顺序不一致会导致乱码异常解析不出来</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> destPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span>[] src)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//字节数组放入输入流中，通过处理输入流读取字节数组中的数据</span></span><br><span class="line">		DataInputStream dis = <span class="keyword">new</span> DataInputStream(</span><br><span class="line">				<span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">						<span class="keyword">new</span> ByteArrayInputStream(src)));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">double</span> num1 = dis.readDouble();</span><br><span class="line">		<span class="keyword">long</span> num2 = dis.readLong();</span><br><span class="line">		String num3 = dis.readUTF();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		dis.close();</span><br><span class="line">		</span><br><span class="line">		System.out.println(num1+<span class="string">"--&gt;"</span>+num2+<span class="string">"--&gt;"</span>+num3);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 数据+类型输出到字节数组</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> destPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] write() <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">double</span> point = <span class="number">2.5</span>;</span><br><span class="line">		<span class="keyword">long</span> num = <span class="number">100L</span>;</span><br><span class="line">		String str = <span class="string">"数据类型"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[] dest = <span class="keyword">null</span>;</span><br><span class="line">		<span class="comment">//字节数组输出流</span></span><br><span class="line">		ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">		<span class="comment">//选择流，DataOutPutStream</span></span><br><span class="line">		DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(</span><br><span class="line">				<span class="keyword">new</span> BufferedOutputStream(</span><br><span class="line">						bos</span><br><span class="line">						));</span><br><span class="line">		dos.writeDouble(point);</span><br><span class="line">		dos.writeLong(num);</span><br><span class="line">		dos.writeUTF(str);</span><br><span class="line">		dos.flush();</span><br><span class="line">		<span class="comment">//输出到字节数组流中的数据，get出来存放在字节数组里</span></span><br><span class="line">		dest = bos.toByteArray();</span><br><span class="line">		dos.close();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> dest;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="实体对象与Object流以及包装流的读取"><a href="#实体对象与Object流以及包装流的读取" class="headerlink" title="实体对象与Object流以及包装流的读取"></a>实体对象与Object流以及包装流的读取</h4><h5 id="实体类"><a href="#实体类" class="headerlink" title="实体类"></a>实体类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.Object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可序列化对对象接口表示该类的属性和方法可序列化</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Lothar</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="comment">//不需要序列化</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">transient</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> salasry;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">()</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String name , <span class="keyword">double</span> salasry)</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalasry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> salasry;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSalasry</span><span class="params">(<span class="keyword">double</span> salasry)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.salasry = salasry;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="读取操作"><a href="#读取操作" class="headerlink" title="读取操作"></a>读取操作</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.Object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 不是所有对象都可以序列化</span></span><br><span class="line"><span class="comment"> * 不是所有属性都需要序列化transient</span></span><br><span class="line"><span class="comment"> * 把对象通过流存进去，反可序列化对象，然后通过流读出序列化对象，顺序必须和序列化一直</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Lothar</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeDemo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException, IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		write(<span class="string">"E:/txt/yyy.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		read(<span class="string">"E:/txt/xxx.txt"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 反序列化</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> FileNotFoundException </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> ClassNotFoundException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(String src)</span> <span class="keyword">throws</span> FileNotFoundException, IOException, ClassNotFoundException</span>&#123;</span><br><span class="line">		</span><br><span class="line">		File ob = <span class="keyword">new</span> File(src);</span><br><span class="line">		</span><br><span class="line">		ObjectInputStream dis = <span class="keyword">new</span> ObjectInputStream(</span><br><span class="line">				<span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">						<span class="keyword">new</span> FileInputStream(ob)));</span><br><span class="line">		</span><br><span class="line">		Object obj = dis.readObject();</span><br><span class="line">		<span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Employee) &#123;</span><br><span class="line">			Employee em = (Employee)obj;</span><br><span class="line">			System.out.println(em.getName());</span><br><span class="line">			System.out.println(em.getSalasry());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		obj = dis.readObject();</span><br><span class="line">		<span class="keyword">int</span>[] array = (<span class="keyword">int</span>[])obj;</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">		dis.close();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 序列化</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> Path</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String Path)</span> <span class="keyword">throws</span> FileNotFoundException, IOException</span>&#123;</span><br><span class="line">		</span><br><span class="line">		Employee emp = <span class="keyword">new</span> Employee(<span class="string">"ltltlt"</span>, <span class="number">100</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> arr[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">		</span><br><span class="line">		File dest = <span class="keyword">new</span> File(Path);</span><br><span class="line">		</span><br><span class="line">		ObjectOutputStream dos = <span class="keyword">new</span> ObjectOutputStream(</span><br><span class="line">				<span class="keyword">new</span> BufferedOutputStream(</span><br><span class="line">						<span class="keyword">new</span> FileOutputStream(dest)));</span><br><span class="line">		</span><br><span class="line">		dos.writeObject(emp);</span><br><span class="line">		</span><br><span class="line">		dos.writeObject(arr);</span><br><span class="line">		</span><br><span class="line">		dos.flush();</span><br><span class="line">		</span><br><span class="line">		dos.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字节数组读写操作"><a href="#字节数组读写操作" class="headerlink" title="字节数组读写操作"></a>字节数组读写操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.others;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 字节数组输出，输入流</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 把字符串用字节输出流写进字节数组，返回该数组，并将此字节数组传入字节输入流然后读取该字节数组</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 数组长度有限，存取的数据不应该很大</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 以程序为参照思考输入输出</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Lothar</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ByteArrayDemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		read(write());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] write() <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		<span class="comment">//目的地</span></span><br><span class="line">		<span class="keyword">byte</span>[] dest;</span><br><span class="line">		<span class="comment">//选择流，不同点</span></span><br><span class="line">		ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">		<span class="comment">//操作写出</span></span><br><span class="line">		String msg = <span class="string">"This is a test word"</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[] info = msg.getBytes();</span><br><span class="line">		</span><br><span class="line">		bos.write(info,<span class="number">0</span>,info.length);</span><br><span class="line">		<span class="comment">//获取数据,放入dest字节数组</span></span><br><span class="line">		dest = bos.toByteArray();</span><br><span class="line">		</span><br><span class="line">		bos.close();</span><br><span class="line">		<span class="comment">//返回携带数据的字节数组</span></span><br><span class="line">		<span class="keyword">return</span> dest;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 输入流操作与文件输入流一致</span></span><br><span class="line"><span class="comment">	 * 读取的是字节数组,而文件输入流读取的是文件字节</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span>[] src)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//数据源是一个字符穿，存在字节数组里</span></span><br><span class="line"><span class="comment">//		String msg = "This is a test word";</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		byte [] src = msg.getBytes();</span></span><br><span class="line">		<span class="comment">//选择流</span></span><br><span class="line">		BufferedInputStream is = <span class="keyword">new</span> BufferedInputStream(</span><br><span class="line">				<span class="keyword">new</span> ByteArrayInputStream(</span><br><span class="line">						src)</span><br><span class="line">				);</span><br><span class="line">		<span class="comment">//操作</span></span><br><span class="line">		<span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(-<span class="number">1</span>!=(len = is.read(flush)))&#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(flush,<span class="number">0</span>,len));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		is.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字节数组-程序-文件之间的读写"><a href="#字节数组-程序-文件之间的读写" class="headerlink" title="字节数组-程序-文件之间的读写"></a>字节数组-程序-文件之间的读写</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.others;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ByteArrayDemoFileChar</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 1.文件--程序--字节数组    文件输入流/字节数组输出流</span></span><br><span class="line"><span class="comment">	 * 2.字节数组--程序--文件    字节数组输入流/文件输出流</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		<span class="keyword">byte</span> [] data = getBytesFromFile(<span class="string">"E:/txt/test.txt"</span>);</span><br><span class="line">		String str = <span class="keyword">new</span> String(data,<span class="number">0</span>,data.length);</span><br><span class="line">		System.out.println(str);</span><br><span class="line">		</span><br><span class="line">		String pathname = <span class="string">"E:/txt/DNF.txt"</span>;</span><br><span class="line">		setBytetoFile(data, pathname);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 字节数组--程序--文件</span></span><br><span class="line"><span class="comment">	 * 把字节数组内容写入程序，然后程序写入文件</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> data 字节源文件</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> pathname  写入文件路径</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setBytetoFile</span><span class="params">(<span class="keyword">byte</span>[] data , String pathname)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//选择流，字节数组输入流</span></span><br><span class="line">		BufferedInputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> ByteArrayInputStream(data));</span><br><span class="line">		<span class="comment">//文件输出流</span></span><br><span class="line">		OutputStream os = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(pathname)));</span><br><span class="line">		<span class="comment">//操作</span></span><br><span class="line">		<span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(-<span class="number">1</span>!=(len=is.read(flush)))&#123;</span><br><span class="line">			</span><br><span class="line">			os.write(flush, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		os.flush();</span><br><span class="line">		</span><br><span class="line">		os.close();</span><br><span class="line">		is.close();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 文件--程序--字节数组 </span></span><br><span class="line"><span class="comment">	 * 返回一个字节数组</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> srcPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] getBytesFromFile(String srcPath) <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		<span class="comment">//创建文件源</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(srcPath);</span><br><span class="line">		<span class="keyword">byte</span>[] dest = <span class="keyword">null</span>;</span><br><span class="line">		<span class="comment">//选择流，文件输入流</span></span><br><span class="line">		InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(file));</span><br><span class="line">		<span class="comment">//字节数组输出流，不能使用多态</span></span><br><span class="line">		ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">		<span class="comment">//操作，不断读取文件，写入字节数组</span></span><br><span class="line">		<span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">		<span class="keyword">while</span>(-<span class="number">1</span>!=(len=is.read(flush)))&#123;</span><br><span class="line">			bos.write(flush, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		bos.flush();</span><br><span class="line">		<span class="comment">//获取数据</span></span><br><span class="line">		dest = bos.toByteArray();</span><br><span class="line">		bos.close();</span><br><span class="line">		is.close();</span><br><span class="line">		<span class="keyword">return</span> dest;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.io.printStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintStreamDemo</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 当很多system.out.print的时候可以创建打印流对象，对象名调用print方法，省一些代码</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"test"</span>);</span><br><span class="line">		</span><br><span class="line">		PrintStream ps = System.out;</span><br><span class="line">		</span><br><span class="line">		ps.print(<span class="keyword">false</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//输出到文件</span></span><br><span class="line">		File src = <span class="keyword">new</span> File(<span class="string">"E:/txt/test.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		ps = <span class="keyword">new</span> PrintStream(<span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(src)));</span><br><span class="line">		</span><br><span class="line">		ps.println(<span class="string">"io is so easy"</span>);</span><br><span class="line">		</span><br><span class="line">		ps.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="文件copy以及关闭流工具"><a href="#文件copy以及关闭流工具" class="headerlink" title="文件copy以及关闭流工具"></a>文件copy以及关闭流工具</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.close; </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CopyFileUtil</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 拷贝文件夹</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> srcPath源路径</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> destPath目标路径</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CopyDir</span><span class="params">(String srcPath , String destPath)</span></span>&#123;</span><br><span class="line">		File src = <span class="keyword">new</span> File(srcPath);</span><br><span class="line">		File dest = <span class="keyword">new</span> File(destPath);</span><br><span class="line">		CopyDirDetail(src, dest);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 拷贝文件夹细节</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> src</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> dest</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CopyDirDetail</span><span class="params">(File src , File dest)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (src.isFile()) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				CopyFileUtil.CopyFile(src, dest);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(src.isDirectory())&#123;</span><br><span class="line">			</span><br><span class="line">			dest.mkdirs();</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">for</span>(File sub : src.listFiles())&#123;</span><br><span class="line">				</span><br><span class="line">				CopyDirDetail(sub, <span class="keyword">new</span> File(dest,sub.getName()));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 路径方式copy文件</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> srcPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> destPath</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CopyFile</span><span class="params">(String srcPath , String destPath)</span> <span class="keyword">throws</span> IOException, FileNotFoundException </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		</span><br><span class="line">		CopyFile(<span class="keyword">new</span> File(srcPath), <span class="keyword">new</span> File(destPath));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * File文件方式copy文件，利用缓冲流提高性能</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> src</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> dest</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CopyFile</span><span class="params">(File src , File dest)</span> <span class="keyword">throws</span> IOException, FileNotFoundException </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!src.isFile()) &#123;</span><br><span class="line">			System.out.println(<span class="string">"非文件"</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">"只能拷贝文件"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(dest.isDirectory())&#123;</span><br><span class="line">			<span class="comment">//目标路径如果是文件夹，不能copy与文件夹同名的文件，因为源one.txt,目标文件two.txt，如果目标是two文件夹，格式不一不能copy</span></span><br><span class="line">			System.out.println(<span class="string">"不能建立与之相同的文件"</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="string">"不能建立与之文件夹同名的文件"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		InputStream  is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(src)) ;</span><br><span class="line">		</span><br><span class="line">		OutputStream os = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(dest)) ;	</span><br><span class="line"></span><br><span class="line">		<span class="keyword">byte</span> [] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(-<span class="number">1</span>!=(len=is.read(flush)))&#123;</span><br><span class="line">			os.write(flush, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		os.flush();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//用的是自写的关闭流的工具</span></span><br><span class="line">		FileCloseUtil.close(os,is);</span><br><span class="line">		<span class="comment">//用的是自写泛型的关闭流的工具</span></span><br><span class="line">		FileCloseUtil.closeAll(os,is);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> top.lothar.close;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Closeable;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileCloseUtil</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 工具类，关闭流</span></span><br><span class="line"><span class="comment">	 * 可变参数... 这个参数只能放在形参的最后一个位置 处理方式与数组一致</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> io</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable ...io)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(Closeable temp : io)&#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">null</span> != temp)&#123;</span><br><span class="line">				temp.close();	</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 泛型T继承这个类型，后边用T可以访问父类型</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> io</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span>&lt;T extends Closeable&gt; <span class="function"><span class="keyword">void</span> <span class="title">closeAll</span><span class="params">(T...io)</span></span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">for</span>(Closeable temp : io)&#123;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(<span class="keyword">null</span> != temp)&#123;</span><br><span class="line">					temp.close();	</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="更多例子请移步————-gt-160-160-Github关于IO的Demo"><a href="#更多例子请移步————-gt-160-160-Github关于IO的Demo" class="headerlink" title="更多例子请移步————&gt;&#160;&#160;Github关于IO的Demo"></a>更多例子请移步————&gt;&#160;&#160;<a href="https://github.com/Lotharing/IODemo" target="_blank" rel="noopener">Github关于IO的Demo</a></h5><h5 id="当然IO是java设计中必不可少的一部分，深一步的在线程中以及在Socket中的使用笔者也需要慢慢探索"><a href="#当然IO是java设计中必不可少的一部分，深一步的在线程中以及在Socket中的使用笔者也需要慢慢探索" class="headerlink" title="当然IO是java设计中必不可少的一部分，深一步的在线程中以及在Socket中的使用笔者也需要慢慢探索"></a>当然IO是java设计中必不可少的一部分，深一步的在线程中以及在Socket中的使用笔者也需要慢慢探索</h5><h5 id="基础部分列的差不多了常用的就是这些流。"><a href="#基础部分列的差不多了常用的就是这些流。" class="headerlink" title="基础部分列的差不多了常用的就是这些流。"></a>基础部分列的差不多了常用的就是这些流。</h5>

                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/Lotharing/Lotharing.github.io" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2018 Lothar<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
                <p class="copyright text-muted">2018总访问量<span id="busuanzi_value_site_pv"></span>次</p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>